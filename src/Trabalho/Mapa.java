package Trabalho;

public class Mapa {
	private static int tamanho_x;
	private static int tamanho_y;
	private int display_x;
	private int display_y;
	private int x;
	private int y;
	private char[][] mapa;

	private Mapa() {

		tamanho_x=141;
		tamanho_y=29;
		x=1;
		y=1;
		// Isso foi criado com o poder do AutoHotkey, que deixou mais facil trocar caracteres, e colocar os indices numa ordem crescente
		mapa = new char[tamanho_y][tamanho_x];
		mapa[0]= ".............................................................................................................................................".toCharArray();
		mapa[1]= ".............................................................................................................................................".toCharArray();
		mapa[2]= ".............................................................................................................................................".toCharArray();
		mapa[3]= ".....................................................................................................#########...............................".toCharArray();
		mapa[4]= "........................................................................................################.................######.###.###......".toCharArray();
		mapa[5]= "..............###.......................................................................................................#########.###.#######".toCharArray();
		mapa[6]= "..............###.............................############.....................########................................###################...".toCharArray();
		mapa[7]= "..............######.......................................######............########....................###############.###.................".toCharArray();
		mapa[8]= ".................######....###...................................######....########.....................####################.................".toCharArray();
		mapa[9]= ".................######....###.......###.................................###########...................############.###.###..................".toCharArray();
		mapa[10]="...................############.....###.....................#######.............###...........................####################...........".toCharArray();
		mapa[11]="................##########....###....######.....................................###.....................................########.............".toCharArray();
		mapa[12]="................###....######.######.....###......................................#######.......####################.........................".toCharArray();
		mapa[13]="...............#######.######....###....######....................................#########...............################.#######...........".toCharArray();
		mapa[14]="...............###.###...######..######.................................................################........#################............".toCharArray();
		mapa[15]="...............################...###.....###...............########....................##########...############.###.###....................".toCharArray();
		mapa[16]="..................###.###....######..######..............................###.....................########.................###########...##...".toCharArray();
		mapa[17]="..................##########..#####....###...............................###...................########..................########...#####....".toCharArray();
		mapa[18]=".....................###.###...###...###..............................######...............###########...............###################.....".toCharArray();
		mapa[19]=".....................##########.....................................###.................###........################..........................".toCharArray();
		mapa[20]=".....................##########.....................................###.................###........################..........................".toCharArray();
		mapa[21]="........................###.###......................................######..................###..................########...................".toCharArray();
		mapa[22]="........................###.######..........................................###......................................###########.............".toCharArray();
		mapa[23]="...............................###..............######...........................................###.........................................".toCharArray();
		mapa[24]="...............................###................................###.................................###########.........###.#..............".toCharArray();
		mapa[25]="...............................................................................###..........................###.###..........................".toCharArray();
		mapa[26]="..................................................................########...........######.................................##########.......".toCharArray();
		mapa[27]=".......................................................####...............................###########....................###.###.............".toCharArray();
		mapa[28]="....................###..###..........................................###....................................................................".toCharArray();
	}
	
	static public Mapa CriaMapa() {
		Mapa a = new Mapa();
		for(int i=0;i<tamanho_y;i++) {
			for(int j=0;j<tamanho_x;j++) {
				if (i==a.y && j==a.x)System.out.print("P");
				else System.out.print(a.mapa[i][j]);
			}
			System.out.print("\n");
		}
		return a;
	}
	
	
	
	public void update(Treinador Player,String Input) {
		if (Input.equals("w") && y!=0)y--;
		if (Input.equals("s") && y!=tamanho_y-1)y++;
		if (Input.equals("a") && x!=0)x--;
		if (Input.equals("d") && x!=tamanho_x-1)x++;
		
		for(int i=0;i<tamanho_y;i++) {
			for(int j=0;j<tamanho_x;j++) {
				if (i==y && j==x)System.out.print("P");
				else System.out.print(mapa[i][j]);
			}
			System.out.print("\n");
		}
		
		if ( mapa[y][x]=='#' && Math.random()*100<20) {
			Treinador oponente;
			boolean selvagem = Math.random()*10<8;
			if (selvagem) {
				System.out.println("\n\n Um pokemon selvagem apareceu !");
				oponente = new Treinador(1,"",true);
			}
			else {
				oponente = new Treinador((int)Math.round(Math.random()*5+1), GeraNomes.NomeTreinador(),false);
				System.out.println("\n\n"+ oponente.getNome()+" apareceu do mato e deseja te desafiar!");
			}
			
			Batalha.Acontece(Player, oponente);
			
			for(int i=0;i<tamanho_y;i++) {
				for(int j=0;j<tamanho_x;j++) {
					if (i==y && j==x)System.out.print("P");
					else System.out.print(mapa[i][j]);
				}
				System.out.print("\n");
			}
		}
		
		
		
	}
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
}
